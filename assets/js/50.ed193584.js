(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{192:function(n,e,t){"use strict";t.r(e);var s=t(0),i=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"content"},[t("p",[n._v("1.消息回复接口1\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1433751277\n2.access_token处理接口\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140183\n1.access_token\n2.tourser：openid的获取\n3.获取用户信息\ngetUserinfoByCode\n3.获取用户信息接口\nhttps://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421140839\n4.获取code接口\n5.用户关注公众号的时候就需要绑定数据\n6.自动回复绑定账号，输入手机号码\n或者手机号码直接授权绑定openid")]),n._v(" "),t("p",[n._v("openid的获取需要通过授权才能拿到\nhttps://blog.csdn.net/hankin_/article/details/79232337\nhttp://h52ew81ylu.51http.tech/?code=001P7fMX1z7G5112lQMX1JbcMX1P7fMT&state=STATE")]),n._v(" "),t("p",[n._v("流程\n1.关注微信公众还，\n2.回复消息，绑定账号\n3.静默授权+绑定手机号码\n4.以后只需要通过手机号码就可以调用手机信息")]),n._v(" "),t("p",[n._v("golang-serve\n1.access_token\n2.openid与手机号码的绑定\n3.前端的手机绑定，加上解除绑定")]),n._v(" "),t("ul",[t("li",[t("p",[n._v("异常处理\n1.拒绝授权的嘛\n2.各种异常的考虑情况")])]),n._v(" "),t("li",[t("p",[n._v("access_token/appid/appsceret")])]),n._v(" "),t("li",[t("p",[n._v("用户手机号码 + openid的融合 + 用户关注公众号的标记位（用户绑定+用户解除绑定）")])]),n._v(" "),t("li",[t("p",[n._v("根据uid 拿到 openid的接口\n（接口设计需要可能有微信登陆的接口）")])])]),n._v(" "),t("p",[n._v("++++存储微信公众号的access_token ++++\n存储access_token2小时的过期时间---需要一个存储的access_token的接口，并且是有更新机制\n以后所有得接口访问都需要用access_token并且是不区分用户")]),n._v(" "),t("p",[n._v("+++++.完成用户绑定情况 +++++\n情况一\n（是否是新用户，新用户是否注册即绑定？）\n1.用户关注公众号之后，发送个链接的卡片\n2.输入手机号码完成绑定操作，进入这个绑定页面的时候需要授权 + openid + 手机号码的完成绑定\n用的是token机制（绑定的时候需要加字段）\n3.解除绑定")]),n._v(" "),t("p",[n._v("+++++ pc端调用 ++++++\n1.当宝箱完成的时候，pc端发调用koa端接口\nkoa接口需用拿到\n1.需要判断用户是否完成微信公众的绑定\n2.未绑定--提示绑定，绑定 --\x3e 首先去数据库里面看access_token过期时间，如果过期，需要重新获取access_token\n那么前端可以给我uid，\n我需要根据uid---\x3eopenid")])])}],!1,null,null,null);i.options.__file="note.md";e.default=i.exports}}]);